<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Europe Traders - All Products</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #000;
            color: #fff;
        }
        
        .product-grid-item {
            transition: transform 0.3s ease;
        }
        
        .product-grid-item:hover {
            transform: scale(1.05);
        }
        
        .modal {
            background-color: rgba(0,0,0,0.8);
            z-index: 1000;
        }

        /* Mobile-specific styles */
        @media (max-width: 768px) {
            .product-title {
                font-size: 0.9rem;
            }
            
            .product-price {
                font-size: 0.85rem;
            }
            
            .star-rating {
                font-size: 0.8rem;
            }
            
            .mobile-menu {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease-out;
            }
            
            .mobile-menu.active {
                max-height: 300px;
            }
        }
    </style>
</head>
<body>
    <nav id="navbar" class="fixed w-full top-0 z-50 bg-gradient-to-r from-gray-900 via-black to-gray-900 shadow-lg transition-all duration-300 py-3 md:py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-2 md:space-x-4 transform hover:scale-105 transition-transform duration-300">
                <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full p-2 md:p-3 shadow-lg flex items-center justify-center">
                    <i class="fas fa-tools text-white text-xl md:text-2xl"></i>
                </div>
                <div class="flex flex-col">
                    <h1 class="text-xl md:text-3xl font-['Orbitron'] font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-yellow-600 tracking-wider leading-tight">
                        Europe Traders
                    </h1>
                    <p class="text-[10px] md:text-xs text-gray-400 tracking-widest uppercase">
                        Industrial Machinery & Tools
                    </p>
                </div>
            </a>
            
            <!-- Desktop Category Filters -->
            <div class="hidden md:flex items-center space-x-4">
                <select id="category-filter" class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
                    <option value="">All Categories</option>
                    <option value="drills">Drill Machines</option>
                    <option value="cutters">Cutters</option>
                    <option value="pliers">Pliers</option>
                    <option value="wrenches">Wrenches</option>
                    <option value="welding">Welding</option>
                </select>
                <input type="text" id="search-input" placeholder="Search products..." class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
            </div>
            
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                <i class="fas fa-bars text-lg"></i>
            </button>
        </div>
        
        <!-- Mobile Category Filters (Visible on Mobile) -->
        <div class="md:hidden bg-gray-900 w-full py-3">
            <div class="container mx-auto px-4 flex flex-col space-y-3">
                <select id="mobile-category-filter" class="bg-gray-800 text-white px-3 py-2 rounded-lg text-sm w-full">
                    <option value="">All Categories</option>
                    <option value="drills">Drill Machines</option>
                    <option value="cutters">Cutters</option>
                    <option value="pliers">Pliers</option>
                    <option value="wrenches">Wrenches</option>
                    <option value="welding">Welding</option>
                </select>
                <input type="text" id="mobile-search-input" placeholder="Search products..." class="bg-gray-800 text-white px-3 py-2 rounded-lg text-sm w-full">
            </div>
        </div>
    </nav>

    <!-- Products Grid -->
    <section class="pt-24 pb-10 px-3">
        <div class="container mx-auto">
            <h1 class="text-2xl md:text-4xl font-bold text-yellow-500 mb-6 text-center">Our Products</h1>
            
            <div id="products-grid" class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6">
                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="drills" 
                data-name="Makita Drill Machine" 
                data-price="7500" 
                data-description="High-performance drill machine Dual Battery"
                data-images='[
                   "images/img/drill.jpg", 
                   "images/img/dr.jpg", 
                   "images/img/drill22.jpg"
                ]'>
                    <img src="images/img/drill.jpg" alt="Drill Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">Makita Drill Machine</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="text-gray-400 ml-1 text-xs">(45)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.8,299</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="drills" 
                data-name="Edon UAE Drill Machine" 
                data-price="22000" 
                data-description="High-performance drill machine 24 V"
                data-images='[
                    "images/img/drill33.jpg", 
                    "images/img/drill3333.jpg", 
                    "images/img/drill333333.jpg"
                ]'>
                    <img src="images/img/drill33.jpg" alt="Drill Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">makita Drill Machine</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="text-gray-400 ml-1 text-xs">(45)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.8,299</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="drills" 
                data-name="Asura Drill Machine 16.8" 
                data-price="13500" 
                data-description="Dual Battery 16.8 V"
                data-images='[
                    "images/img/drill2222.jpg", 
                    "images/img/drill2.jpg", 
                    "images/img/drill22.jpg"
                ]'>
                    <img src="images/img/drill2222222.jpg" alt="Drill Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">Asura Drill Machine</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="text-gray-400 ml-1 text-xs">(45)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.8,299</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product 2: Welding Machine -->
                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="welding" 
                data-name="Japani Welding Machine" 
                data-price="22000" 
                data-description="Powerful multi-phase (3-2-1) welding machine with advanced arc control for industrial applications."
                data-images='[
                    "images/img/weld.jpg", 
                    "images/img/weld22.jpg", 
                    "images/img/weld.jpg"
                ]'>
                    <img src="images/img/weld.jpg" alt="Welding Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">Japani Welding Machine</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <span class="text-gray-400 ml-1 text-xs">(32)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.22,000</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="cutters" 
                data-name="Japani iron Cutter" 
                data-price="22000" 
                data-description="Powerful multi-phase (3-2-1) welding machine with advanced arc control for industrial applications."
                data-images='[
                    "images/img/weld.jpg", 
                    "images/img/weld22.jpg", 
                    "images/img/weld.jpg"
                ]'>
                    <img src="images/oo9.jpeg" alt="Welding Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">Japani iron Cutter</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <span class="text-gray-400 ml-1 text-xs">(32)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.22,000</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="pliers" 
                data-name="INCO Pliers" 
                data-price="1200" 
                data-description="Powerful multi-phase (3-2-1) welding machine with advanced arc control for industrial applications."
                data-images='[
                    "images/img/weld.jpg", 
                    "images/img/weld22.jpg", 
                    "images/img/weld.jpg"
                ]'>
                    <img src="images/pl.jpeg" alt="Welding Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">INCO Pliers</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <span class="text-gray-400 ml-1 text-xs">(32)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.1,200</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="wrenches" 
                data-name="INCO Wrench" 
                data-price="4000" 
                data-description="Powerful multi-phase (3-2-1) welding machine with advanced arc control for industrial applications."
                data-images='[
                    "images/img/weld.jpg", 
                    "images/img/weld22.jpg", 
                    "images/img/weld.jpg"
                ]'>
                    <img src="images/wr.jpeg" alt="Welding Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">INCO Wrench</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                            <span class="text-gray-400 ml-1 text-xs">(32)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.4,000</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Repeat the same pattern for the other products with optimized mobile view -->
                
                <!-- Additional products can be added here following the same pattern -->
            </div>
        </div>
    </section>

    <!-- Product Detail Modal (Mobile Optimized) -->
    <div id="product-modal" class="fixed inset-0 hidden items-center justify-center modal p-3 bg-black bg-opacity-50">
        <div class="bg-gray-900 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl">
            <button id="close-modal" class="absolute top-2 right-2 text-white text-xl z-10 hover:text-yellow-500 transition">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="grid md:grid-cols-2 gap-4 md:gap-8 p-4 md:p-8">
                <!-- Enhanced Product Images Section -->
                <div>
                    <div id="main-product-image" class="mb-4">
                        <img src="images/img/drill.jpg" alt="Product Image" class="w-full h-64 md:h-96 object-cover rounded-xl" id="modal-main-image">
                    </div>
                    <div id="product-thumbnails" class="flex space-x-2 md:space-x-4 justify-center">
                        <!-- Thumbnails will be dynamically added here -->
                    </div>
                </div>
                
                <!-- Product Details -->
                <div>
                    <h2 id="modal-product-name" class="text-xl md:text-3xl font-bold text-yellow-500 mb-2 md:mb-4"></h2>
                    <p id="modal-product-description" class="text-gray-800 w-full p-2 md:p-4 border-2 border-yellow-500 bg-yellow-400 rounded-xl shadow-md mb-4 md:mb-6 text-sm md:text-lg font-bold"></p>
                    
                    <div class="flex items-center mb-4 md:mb-6">
                        <span id="modal-product-price" class="text-xl md:text-2xl font-bold text-yellow-500 mr-2 md:mr-4"></span>
                        <div class="flex items-center text-yellow-400">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="text-gray-400 ml-1 text-xs" id="modal-review-count">(45)</span>
                        </div>
                    </div>
                    
                    <div class="mb-4 md:mb-6">
                        <h3 class="font-semibold mb-1 md:mb-2 text-lg md:text-xl">Product Specifications:</h3>
                        <ul id="modal-product-features" class="list-disc list-inside text-gray-300 space-y-1 md:space-y-2 text-sm md:text-base">
                            <!-- Features will be dynamically added here -->
                        </ul>
                    </div>
                    
                    <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4">
                        <button id="order-whatsapp-btn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 md:px-6 md:py-3 rounded-full flex items-center justify-center transition text-sm md:text-base">
                            <i class="fab fa-whatsapp mr-2"></i> Order on WhatsApp
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- WhatsApp Order Form Modal -->
    <div id="whatsapp-form-modal" class="fixed inset-0 hidden items-center justify-center modal p-2 bg-black bg-opacity-80 z-[1001] overflow-y-auto">
        <div class="bg-gray-900 rounded-xl max-w-md w-full mx-auto my-4 relative shadow-2xl p-4 max-h-[90vh] overflow-y-auto">
            <button id="close-form-modal" class="absolute top-2 right-2 text-white text-xl z-10 hover:text-yellow-500 transition">
                <i class="fas fa-times"></i>
            </button>
            
            <h2 class="text-lg md:text-2xl font-bold text-yellow-500 mb-3 text-center">Complete Your Order</h2>
            
            <div id="order-details" class="bg-gray-800 p-3 rounded-lg mb-3">
                <p class="text-gray-300 text-xs md:text-sm">You are ordering:</p>
                <p id="form-product-name" class="text-yellow-500 font-bold text-sm md:text-base"></p>
                <p id="form-product-price" class="text-white font-semibold text-sm md:text-base"></p>
            </div>
            
            <form id="whatsapp-order-form" class="space-y-3">
                <div>
                    <label for="customer-name" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Full Name *</span> <span class="text-right">نام *</span>
                    </label>
                    <input type="text" id="customer-name" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm">
                </div>
                
                <div>
                    <label for="customer-phone" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Phone Number *</span> <span class="text-right">فون نمبر *</span>
                    </label>
                    <input type="tel" id="customer-phone" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm">
                </div>
                
                <div>
                    <label for="customer-address" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Delivery Address *</span> <span class="text-right">پتہ *</span>
                    </label>
                    <textarea id="customer-address" required rows="2" class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"></textarea>
                </div>
                
                <div>
                    <label for="customer-city" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>City *</span> <span class="text-right">شہر *</span>
                    </label>
                    <input type="text" id="customer-city" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm">
                </div>
            
                <div>
                    <label for="customer-notes" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Additional Notes</span> <span class="text-right">اضافی ہدایات</span>
                    </label>
                    <textarea id="customer-notes" rows="2" class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"></textarea>
                </div>
                
                <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg font-bold transition flex items-center justify-center text-sm">
                    <i class="fab fa-whatsapp mr-2"></i> Submit Order via WhatsApp
                </button>
            </form>
        </div>
    </div>
    
    <script>
     // Mobile Menu Toggle
const mobileMenuButton = document.getElementById('mobile-menu-button');
const mobileMenu = document.getElementById('mobile-menu');

if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('active');
    });
}

// Phone number validation for WhatsApp form
document.getElementById("whatsapp-order-form").addEventListener("submit", function(event) {
    const phoneInput = document.getElementById("customer-phone");
    const phoneNumber = phoneInput.value.trim();

    if (phoneNumber.length !== 11 || !phoneNumber.startsWith("03")) {
        alert("Phone number must start with 03 and be 11 numbers long.");
        phoneInput.focus();
        event.preventDefault(); // Prevent form submission
    }
});

// Product Modal Functionality
const productsGrid = document.getElementById('products-grid');
const productModal = document.getElementById('product-modal');
const closeModalBtn = document.getElementById('close-modal');
const mainProductImage = document.getElementById('modal-main-image');
const productThumbnails = document.getElementById('product-thumbnails');
const modalProductName = document.getElementById('modal-product-name');
const modalProductDescription = document.getElementById('modal-product-description');
const modalProductPrice = document.getElementById('modal-product-price');
const modalProductFeatures = document.getElementById('modal-product-features');
const modalReviewCount = document.getElementById('modal-review-count');

// WhatsApp Form Modal Elements
const orderWhatsAppBtn = document.getElementById('order-whatsapp-btn');
const whatsappFormModal = document.getElementById('whatsapp-form-modal');
const closeFormModalBtn = document.getElementById('close-form-modal');
const formProductName = document.getElementById('form-product-name');
const formProductPrice = document.getElementById('form-product-price');
const whatsappOrderForm = document.getElementById('whatsapp-order-form');

// Global variables to store current product info
let currentProductName = '';
let currentProductPrice = '';

// Open Product Modal
productsGrid.addEventListener('click', function(e) {
    const productCard = e.target.closest('.product-grid-item');
    if (productCard) {
        const images = JSON.parse(productCard.dataset.images || '[]');
        const name = productCard.dataset.name;
        const price = productCard.dataset.price;
        const description = productCard.dataset.description;
        const category = productCard.dataset.category;
        
        // Save current product info globally
        currentProductName = name;
        currentProductPrice = `Rs.${parseInt(price).toLocaleString()}`;

        // Ensure we have at least 3 images
        const displayImages = images.length >= 3 ? images : 
            [...images, ...Array(3 - images.length).fill(images[0] || '')];

        // Set main image
        mainProductImage.src = displayImages[0];
        mainProductImage.alt = name;

        // Create thumbnails with larger, more prominent view
        const thumbnailSize = window.innerWidth < 768 ? 'w-16 h-16' : 'w-24 h-24';
        productThumbnails.innerHTML = displayImages.map((img, index) => `
            <img src="${img}" alt="${name} - Image ${index + 1}" 
                 class="${thumbnailSize} object-cover rounded-lg cursor-pointer thumbnail-image 
                 ${index === 0 ? 'border-2 border-yellow-500' : 'opacity-70 hover:opacity-100'}">
        `).join('');

        // Set product details
        modalProductName.textContent = name;
        modalProductDescription.textContent = description;
        modalProductPrice.textContent = currentProductPrice;

        // Dynamic features based on category
        const featuresMap = {
            'drills': [
                'High-performance motor',
                'Dual battery system',
                'Adjustable torque settings',
                'Ergonomic design'
            ],
            'welding': [
                'Multi-phase compatibility',
                'High electrical efficiency',
                'Robust construction',
                'Precise arc control'
            ],
            'cutters': [
                'Precision cutting edge',
                'Durable material construction',
                'Comfortable grip',
                'Multi-purpose usage'
            ],
            'pliers': [
                'Professional grade quality',
                'Rust-resistant coating',
                'Ergonomic handles',
                'Versatile application'
            ],
            'wrenches': [
                'Smooth jaw adjustment',
                'High-strength alloy steel',
                'Corrosion-resistant finish',
                'Precise measurement markings'
            ]
        };

        // Set features
        modalProductFeatures.innerHTML = (featuresMap[category] || [
            'Professional Grade Quality',
            'Durable Construction',
            'Ergonomic Design'
        ]).map(feature => `<li>${feature}</li>`).join('');

        // Show modal
        productModal.classList.remove('hidden');
        productModal.classList.add('flex');
    }
});

// Close Product Modal
closeModalBtn.addEventListener('click', () => {
    productModal.classList.remove('flex');
    productModal.classList.add('hidden');
});

// Close modal when clicking outside the content
productModal.addEventListener('click', function(e) {
    if (e.target === productModal) {
        productModal.classList.remove('flex');
        productModal.classList.add('hidden');
    }
});

// Open WhatsApp Form Modal
orderWhatsAppBtn.addEventListener('click', () => {
    // Set product info in the form
    formProductName.textContent = currentProductName;
    formProductPrice.textContent = currentProductPrice;
    
    // Hide product modal and show form modal
    productModal.classList.remove('flex');
    productModal.classList.add('hidden');
    
    whatsappFormModal.classList.remove('hidden');
    whatsappFormModal.classList.add('flex');
});

// Close WhatsApp Form Modal
closeFormModalBtn.addEventListener('click', () => {
    whatsappFormModal.classList.remove('flex');
    whatsappFormModal.classList.add('hidden');
});

// Thumbnail image click handler
productThumbnails.addEventListener('click', function(e) {
    if (e.target.classList.contains('thumbnail-image')) {
        // Update main image
        mainProductImage.src = e.target.src;
        
        // Update thumbnail highlighting
        document.querySelectorAll('.thumbnail-image').forEach(img => {
            img.classList.remove('border-2', 'border-yellow-500');
            img.classList.add('opacity-70');
        });
        
        e.target.classList.add('border-2', 'border-yellow-500');
        e.target.classList.remove('opacity-70');
    }
});

// Handle WhatsApp form submission
whatsappOrderForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form values
    const customerName = document.getElementById('customer-name').value;
    const customerPhone = document.getElementById('customer-phone').value;
    const customerAddress = document.getElementById('customer-address').value.trim();
    const customerNotes = document.getElementById('customer-notes').value.trim();
    const city = document.getElementById('customer-city').value.trim();
    
    let message = `*New Order*\n\n*Product:* ${currentProductName}\n*Price:* ${currentProductPrice}\n\n*Customer Details:*\n*Name:* ${customerName}\n*Phone:* ${customerPhone}\n*Address:* ${customerAddress} \n\n*City :* ${city}`;
    
    message += `\n*Additional Notes:*\n${customerNotes || 'None'}`;
    
    // Properly encode message for WhatsApp URL - handle chunking for very long messages
    let encodedMessage = "";
    
    // Split very long messages into smaller chunks (WhatsApp has URL length limitations)
    if (message.length > 1000) {
        // Send only essential information and note that details are too long
        encodedMessage = encodeURIComponent(`*New Order*\n\n*Product:* ${currentProductName}\n*Price:* ${currentProductPrice}\n\n*Customer:* ${customerName}\n*Phone:* ${customerPhone}\n\nCustomer provided detailed address and notes that are too long for this message. Please contact them for complete details.`);
    } else {
        encodedMessage = encodeURIComponent(message);
    }
    
    // WhatsApp business number
    const whatsappNumber = '923175679385';
    
    // Create WhatsApp URL
    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
    
    // Open WhatsApp in new tab
    window.open(whatsappURL, '_blank');
    
    // Close the form modal after a brief delay
    setTimeout(() => {
        whatsappFormModal.classList.remove('flex');
        whatsappFormModal.classList.add('hidden');
        whatsappOrderForm.reset();
    }, 500);
});

// Category filter and search functionality
const categoryFilter = document.getElementById('category-filter');
const mobileCategoryFilter = document.getElementById('mobile-category-filter');
const searchInput = document.getElementById('search-input');
const mobileSearchInput = document.getElementById('mobile-search-input');

// Combined filter function that handles both category and search
function filterProducts() {
    const selectedCategory = (categoryFilter ? categoryFilter.value : '') || 
                            (mobileCategoryFilter ? mobileCategoryFilter.value : '');
    
    const searchQuery = (searchInput ? searchInput.value : '') || 
                        (mobileSearchInput ? mobileSearchInput.value : '');
    
    const products = document.querySelectorAll('.product-grid-item');
    
    products.forEach(product => {
        const productCategory = product.dataset.category.toLowerCase();
        const productName = product.dataset.name.toLowerCase();
        
        // Check if product matches both category and search criteria
        const matchesCategory = !selectedCategory || productCategory === selectedCategory.toLowerCase();
        const matchesSearch = !searchQuery || productName.includes(searchQuery.toLowerCase());
        
        // Show product only if it matches both filters
        product.style.display = matchesCategory && matchesSearch ? 'block' : 'none';
    });
}

// Event listeners for filters
if (categoryFilter) {
    categoryFilter.addEventListener('change', filterProducts);
}

if (mobileCategoryFilter) {
    mobileCategoryFilter.addEventListener('change', filterProducts);
}

if (searchInput) {
    searchInput.addEventListener('input', filterProducts);
}

if (mobileSearchInput) {
    mobileSearchInput.addEventListener('input', filterProducts);
}

// Sync desktop and mobile filters
function syncFilters(isCategory = true) {
    if (isCategory && categoryFilter && mobileCategoryFilter) {
        mobileCategoryFilter.value = categoryFilter.value;
    } else if (!isCategory && searchInput && mobileSearchInput) {
        mobileSearchInput.value = searchInput.value;
    }
    filterProducts();
}

if (categoryFilter) {
    categoryFilter.addEventListener('change', () => syncFilters(true));
}

if (searchInput) {
    searchInput.addEventListener('input', () => syncFilters(false));
}

if (mobileCategoryFilter) {
    mobileCategoryFilter.addEventListener('change', () => {
        if (categoryFilter) categoryFilter.value = mobileCategoryFilter.value;
        filterProducts();
    });
}

if (mobileSearchInput) {
    mobileSearchInput.addEventListener('input', () => {
        if (searchInput) searchInput.value = mobileSearchInput.value;
        filterProducts();
    });
}

// Shrink navbar on scroll
window.addEventListener('scroll', function() {
    const navbar = document.getElementById('navbar');
    if (navbar) {
        if (window.scrollY > 50) {
            navbar.classList.add('py-2');
            navbar.classList.remove('py-3', 'md:py-4');
        } else {
            navbar.classList.remove('py-2');
            navbar.classList.add('py-3', 'md:py-4');
        }
    }
});

// Initialize with all products showing when the page loads
document.addEventListener('DOMContentLoaded', function() {
    // Clear any previously selected filters
    if (categoryFilter) categoryFilter.value = '';
    if (mobileCategoryFilter) mobileCategoryFilter.value = '';
    if (searchInput) searchInput.value = '';
    if (mobileSearchInput) mobileSearchInput.value = '';
    
    // Show all products
    filterProducts();
});
    </script>
</html>