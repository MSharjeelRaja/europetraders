<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Europe Traders - All Products</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #000;
            color: #fff;
        }
        
        .product-grid-item {
            transition: transform 0.3s ease;
        }
        
        .product-grid-item:hover {
            transform: scale(1.05);
        }
        
        .modal {
            background-color: rgba(0,0,0,0.8);
            z-index: 1000;
        }
/* Pagination styles */
.pagination-controls {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 2rem;
    margin-bottom: 2rem;
}

.pagination-controls button, 
.pagination-controls span {
    margin: 0 0.25rem;
    padding: 0.5rem 0.75rem;
    border-radius: 0.5rem;
    transition: all 0.2s ease;
}

.pagination-controls button {
    background-color: #1f2937; /* bg-gray-800 */
    color: white;
}

.pagination-controls button:hover:not(:disabled) {
    background-color: #eab308; /* bg-yellow-500 */
}

.pagination-controls button.active {
    background-color: #eab308; /* bg-yellow-500 */
}

.pagination-controls button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Mobile optimization */
@media (max-width: 640px) {
    .pagination-controls button, 
    .pagination-controls span {
        padding: 0.4rem 0.6rem;
        font-size: 0.9rem;
    }
    
    /* Hide some page numbers on very small screens */
    @media (max-width: 400px) {
        .pagination-controls .middle-page-button:not(.active) {
            display: none;
        }
    }
}

/* Loading indicator for page transitions */
.products-loading {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.products-loading.visible {
    opacity: 1;
    pointer-events: all;
}

.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: #eab308; /* yellow-500 */
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}
        /* Mobile-specific styles */
        @media (max-width: 768px) {
            .product-title {
                font-size: 0.9rem;
            }
            
            .product-price {
                font-size: 0.85rem;
            }
            
            .star-rating {
                font-size: 0.8rem;
            }
            
            .mobile-menu {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease-out;
            }
            
            .mobile-menu.active {
                max-height: 300px;
            }
            
        }
    </style>
</head>
<body>
    <nav id="navbar" class="fixed w-full top-0 z-50 bg-gradient-to-r from-gray-900 via-black to-gray-900 shadow-lg transition-all duration-300 py-3 md:py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-2 md:space-x-4 transform hover:scale-105 transition-transform duration-300">
                <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full p-2 md:p-3 shadow-lg flex items-center justify-center">
                    <i class="fas fa-tools text-white text-xl md:text-2xl"></i>
                </div>
                <div class="flex flex-col">
                    <h1 class="text-xl md:text-3xl font-['Orbitron'] font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-yellow-600 tracking-wider leading-tight">
                        Europe Traders
                    </h1>
                    <p class="text-[10px] md:text-xs text-gray-400 tracking-widest uppercase">
                        Industrial Machinery & Tools
                    </p>
                </div>
            </a>
            
            <!-- Desktop Category Filters -->
            <div class="hidden md:flex items-center space-x-4">
                <select id="category-filter" class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
                    <option value="">All Categories</option>
                    <option value="drills">Drill Machines</option>
                    <option value="cutters">Cutters</option>
                    <option value="pliers">Pliers</option>
                    <option value="wrenches">Wrenches</option>
                    <option value="welding">Welding</option>
                    <option value="jet">jet Washers</option>
                    <option value="air">Air Compressers</option>
                </select>
                <input type="text" id="search-input" placeholder="Search products..." class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm">
            </div>
            
            <button id="add-product-btn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg ml-4">
                <i class="fas fa-plus mr-2"></i>Add Product
            </button>
            
        </div>
        
        <!-- Mobile Category Filters (Visible on Mobile) -->
        <div class="md:hidden bg-gray-900 w-full py-3">
            <div class="container mx-auto px-4 flex flex-col space-y-3">
                <select id="mobile-category-filter" class="bg-gray-800 text-white px-3 py-2 rounded-lg text-sm w-full">
                    <option value="">All Categories</option>
                    <option value="drills">Drill Machines</option>
                    <option value="cutters">Cutters</option>
                    <option value="pliers">Pliers</option>
                    <option value="wrenches">Wrenches</option>
                    <option value="welding">Welding</option>
                    <option value="jet">jet Washers</option>
                    <option value="air">Air Compressers</option>
                </select>
                <input type="text" id="mobile-search-input" placeholder="Search products..." class="bg-gray-800 text-white px-3 py-2 rounded-lg text-sm w-full">
            </div>
        </div>
       
    </nav>
  
    
   
    
    <!-- Products Grid -->
    <section class="pt-24 pb-10 px-3">
        <div class="container mx-auto">
            <h1 class="text-2xl md:text-4xl font-bold text-yellow-500 mb-6 text-center">Our Products</h1>
            
            <div id="products-grid" class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6">
                <div class="product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer" 
                data-category="drills" 
                data-name="Makita Drill Machine" 
                data-price="7500" 
                data-description="High-performance drill machine Dual Battery"
                data-images='[
                   "images/img/drill.jpg", 
                   "images/img/dr.jpg", 
                   "images/img/drill22.jpg"
                ]'>
                    <img src="images/img/drill.jpg" alt="Drill Machine" class="w-full h-36 md:h-48 object-cover">
                    <div class="p-2 md:p-4">
                        <h3 class="product-title text-base font-semibold mb-1">Makita Drill Machine</h3>
                        <div class="flex items-center text-yellow-400 mb-2 star-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="text-gray-400 ml-1 text-xs">(45)</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="product-price text-yellow-500 font-bold">Rs.8,299</span>
                            <button class="text-yellow-500 hover:text-yellow-400">
                                <i class="fas fa-shopping-cart text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>

             
            <!--End                  End-->
         <!--End                  End-->
       
        
              
         

                <!-- Repeat the same pattern for the other products with optimized mobile view -->
                
                <!-- Additional products can be added here following the same pattern -->
            </div>
        </div>
    </section>
    <div id="pagination-controls" class="flex justify-center mt-4"></div>

    <!-- Product Detail Modal (Mobile Optimized) -->
    <div id="product-modal" class="fixed inset-0 hidden items-center justify-center modal p-3 bg-black bg-opacity-50">
        <div class="bg-gray-900 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl">
            <button id="close-modal" class="absolute top-2 right-2 text-white text-xl z-10 hover:text-yellow-500 transition">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="grid md:grid-cols-2 gap-4 md:gap-8 p-4 md:p-8">
                <!-- Enhanced Product Images Section -->
                <div>
                    <div id="main-product-image" class="mb-4">
                        <img src="images/img/drill.jpg" alt="Product Image" class="w-full h-64 md:h-96 object-cover rounded-xl" id="modal-main-image">
                    </div>
                    <div id="product-thumbnails" class="flex space-x-2 md:space-x-4 justify-center">
                        <!-- Thumbnails will be dynamically added here -->
                    </div>
                </div>
                
                <!-- Product Details -->
                <div>
                    <h2 id="modal-product-name" class="text-xl md:text-3xl font-bold text-yellow-500 mb-2 md:mb-4"></h2>
                    <p id="modal-product-description" class="text-gray-800 w-full p-2 md:p-4 border-2 border-yellow-500 bg-yellow-400 rounded-xl shadow-md mb-4 md:mb-6 text-sm md:text-lg font-bold"></p>
                    
                    <div class="flex items-center mb-4 md:mb-6">
                        <span id="modal-product-price" class="text-xl md:text-2xl font-bold text-yellow-500 mr-2 md:mr-4"></span>
                        <div class="flex items-center text-yellow-400">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="text-gray-400 ml-1 text-xs" id="modal-review-count">(45)</span>
                        </div>
                    </div>
                    
                    <div class="mb-4 md:mb-6">
                        <h3 class="font-semibold mb-1 md:mb-2 text-lg md:text-xl">Product Specifications:</h3>
                        <ul id="modal-product-features" class="list-disc list-inside text-gray-300 space-y-1 md:space-y-2 text-sm md:text-base">
                            <!-- Features will be dynamically added here -->
                        </ul>
                    </div>
                    
                    <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4">
                        <button id="order-whatsapp-btn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 md:px-6 md:py-3 rounded-full flex items-center justify-center transition text-sm md:text-base">
                            <i class="fab fa-whatsapp mr-2"></i> Order on WhatsApp
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- WhatsApp Order Form Modal -->
    <div id="whatsapp-form-modal" class="fixed inset-0 hidden items-center justify-center modal p-2 bg-black bg-opacity-80 z-[1001] overflow-y-auto">
        <div class="bg-gray-900 rounded-xl max-w-md w-full mx-auto my-4 relative shadow-2xl p-4 max-h-[90vh] overflow-y-auto">
            <button id="close-form-modal" class="absolute top-2 right-2 text-white text-xl z-10 hover:text-yellow-500 transition">
                <i class="fas fa-times"></i>
            </button>
            
            <h2 class="text-lg md:text-2xl font-bold text-yellow-500 mb-3 text-center">Complete Your Order</h2>
            
            <div id="order-details" class="bg-gray-800 p-3 rounded-lg mb-3">
                <p class="text-gray-300 text-xs md:text-sm">You are ordering:</p>
                <p id="form-product-name" class="text-yellow-500 font-bold text-sm md:text-base"></p>
                <p id="form-product-price" class="text-white font-semibold text-sm md:text-base"></p>
            </div>
            
            <form id="whatsapp-order-form" class="space-y-3">
                <div>
                    <label for="customer-name" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Full Name *</span> <span class="text-right">نام *</span>
                    </label>
                    <input type="text" id="customer-name" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm">
                </div>
                
                <div>
                    <label for="customer-phone" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Phone Number *</span> <span class="text-right">فون نمبر *</span>
                    </label>
                    <input type="tel" id="customer-phone" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm">
                </div>
                
                <div>
                    <label for="customer-address" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Delivery Address *</span> <span class="text-right">پتہ *</span>
                    </label>
                    <textarea id="customer-address" required rows="2" class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"></textarea>
                </div>
                
                <div>
                    <label for="customer-city" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>City *</span> <span class="text-right">شہر *</span>
                    </label>
                    <input type="text" id="customer-city" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm">
                </div>
            
                <div>
                    <label for="customer-notes" class="block text-gray-300 mb-1 flex justify-between text-sm">
                        <span>Additional Notes</span> <span class="text-right">اضافی ہدایات</span>
                    </label>
                    <textarea id="customer-notes" rows="2" class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm"></textarea>
                </div>
                
                <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg font-bold transition flex items-center justify-center text-sm">
                    <i class="fab fa-whatsapp mr-2"></i> Submit Order via WhatsApp
                </button>
            </form>
        </div>
    </div>
   



<!-- Add Product Modal -->
<div id="add-product-modal" class="fixed inset-0 hidden items-center justify-center modal p-3 bg-black bg-opacity-50 z-[1002]">
    <div class="bg-gray-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl p-6">
        <button id="close-add-product-modal" class="absolute top-2 right-2 text-white text-xl z-10 hover:text-yellow-500 transition">
            <i class="fas fa-times"></i>
        </button>
        
        <h2 class="text-2xl font-bold text-yellow-500 mb-6 text-center">Add New Product</h2>
        
        <form id="product-form" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Image Upload Section -->
            <div class="md:col-span-2">
                <label class="block text-gray-300 mb-2">Upload Images (Max 3)</label>
                <div class="flex flex-wrap gap-4 mb-4 image-preview-container">
                    <!-- Image previews will be inserted here -->
                </div>
            </div>

            <!-- Product Details -->
            <div>
                <label class="block text-gray-300 mb-2">Product Name</label>
                <input type="text" id="product-name" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg">
            </div>
            
            <div>
                <label class="block text-gray-300 mb-2">Price</label>
                <input type="number" id="product-price" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg">
            </div>
            
            <div>
                <label class="block text-gray-300 mb-2">Category</label>
                <select id="product-category" required class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg">
                    <option value="drills">Drill Machines</option>
                    <option value="cutters">Cutters</option>
                    <option value="pliers">Pliers</option>
                    <option value="wrenches">Wrenches</option>
                    <option value="welding">Welding</option>
                    <option value="jet">Jet Washers</option>
                    <option value="air">Air Compressors</option>
                </select>
            </div>
            
            <div class="md:col-span-2">
                <label class="block text-gray-300 mb-2">Description</label>
                <textarea id="product-description" required rows="3" class="w-full bg-gray-800 text-white px-3 py-2 rounded-lg"></textarea>
            </div>
            
            <div class="md:col-span-2 flex justify-end gap-4 mt-4">
                <button type="button" id="save-products-btn" class="bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-2 rounded-lg">
                    <i class="fas fa-save mr-2"></i>Save Products
                </button>
                <button type="submit" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg">
                    <i class="fas fa-plus mr-2"></i>Add Product
                </button>
            </div>
        </form>
    </div>
</div>

<script>
let productsArray = [];
let uploadedImages = [];
let currentId = 1;

// Image Handling Functions
function handleImageUpload(e) {
    const files = Array.from(e.target.files);
    const newFiles = [...uploadedImages, ...files].slice(0, 3);
    uploadedImages = newFiles;
    updateImagePreviews();
    e.target.value = '';
}

function updateImagePreviews() {
    const container = document.querySelector('.image-preview-container');
    container.innerHTML = '';
    
    uploadedImages.forEach((file, idx) => {
        const preview = document.createElement('div');
        preview.className = 'relative w-32 h-32';
        preview.innerHTML = `
            <img src="${URL.createObjectURL(file)}" class="w-full h-full object-cover rounded-lg">
            <button type="button" class="absolute top-0 right-0 text-red-500 bg-black rounded-full px-2 py-1 text-xs" data-index="${idx}">
                <i class="fas fa-times"></i>
            </button>
        `;
        container.appendChild(preview);
    });
    
    if (uploadedImages.length < 3) {
        const uploadButton = document.createElement('div');
        uploadButton.className = 'relative w-32 h-32 border-2 border-dashed border-gray-600 rounded-lg upload-button cursor-pointer hover:border-blue-500 transition-colors';
        uploadButton.innerHTML = `
            <input type="file" class="absolute inset-0 opacity-0 cursor-pointer image-input" 
                   accept="image/*" multiple ${uploadedImages.length === 0 ? 'capture="environment"' : ''}>
            <div class="preview-placeholder w-full h-full flex items-center justify-center text-2xl">
                <i class="fas fa-camera"></i>
            </div>
        `;
        container.appendChild(uploadButton);
    }
}

// Event Listeners
document.addEventListener('change', function(e) {
    if (e.target.classList.contains('image-input')) {
        handleImageUpload(e);
    }
});

document.addEventListener('click', function(e) {
    if (e.target.closest('button[data-index]')) {
        const index = parseInt(e.target.closest('button').dataset.index);
        uploadedImages.splice(index, 1);
        updateImagePreviews();
    }
});

// Form Submission
document.getElementById('product-form').addEventListener('submit', function(e) {
    e.preventDefault();
    var name=document.getElementById('product-name').value;
    const imagename = name.split(' ')[0]; // Get only first word
    const newProduct = {

        id: currentId++,
        name: document.getElementById('product-name').value,
        price: document.getElementById('product-price').value,
        category: document.getElementById('product-category').value,
        description: document.getElementById('product-description').value,
        images: uploadedImages.map((file, idx) => `"images/img/${imagename}.jpg",`)
    };
    
    productsArray.push(newProduct);
    alert(`Product added! Total products: ${productsArray.length}`);
    
    // Reset form
    this.reset();
    uploadedImages = [];
    updateImagePreviews();
});

// Save Products to WhatsApp
document.getElementById('save-products-btn').addEventListener('click', function() {
    if (productsArray.length === 0) {
        alert('No products to save!');
        return;
    }

    let message = '*New Products Submission*\n\n';
    productsArray.forEach((product, index) => {
    message += `{\n "id": "${index + 1}",\n` +
               `"name": "${product.name}",\n` +
               `"category": "${product.category}",\n` +  // Fixed missing quote and added closing quote
               `"price": "${product.price}",\n` +
               `"description": "${product.description}",\n` +
               `"images": [\n${product.images.slice(0, 3).join('\n')}\n ]\n},`;  // Fixed extra comma and spacing issues
});


    const whatsappURL = `https://wa.me/923058689161?text=${encodeURIComponent(message)}`;
    window.open(whatsappURL, '_blank');
    productsArray = [];
});

// Modal Controls
document.getElementById('add-product-btn').addEventListener('click', () => {
    document.getElementById('add-product-modal').classList.remove('hidden');
    document.getElementById('add-product-modal').classList.add('flex');
    updateImagePreviews();
});

document.getElementById('close-add-product-modal').addEventListener('click', () => {
    document.getElementById('add-product-modal').classList.remove('flex');
    document.getElementById('add-product-modal').classList.add('hidden');
    uploadedImages = [];
    updateImagePreviews();
});

document.getElementById('add-product-modal').addEventListener('click', function(e) {
    if (e.target === this) {
        this.classList.remove('flex');
        this.classList.add('hidden');
    }
});
</script>






    
    
    <script>
     // Mobile Menu Toggle
const mobileMenuButton = document.getElementById('mobile-menu-button');
const mobileMenu = document.getElementById('mobile-menu');

if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
        mobileMenu.classList.toggle('active');
    });
}

// Phone number validation for WhatsApp form
document.getElementById("whatsapp-order-form").addEventListener("submit", function(event) {
    const phoneInput = document.getElementById("customer-phone");
    const phoneNumber = phoneInput.value.trim();

    if (phoneNumber.length !== 11 || !phoneNumber.startsWith("03")) {
        alert("Phone number must start with 03 and be 11 numbers long.");
        phoneInput.focus();
        event.preventDefault(); // Prevent form submission
    }
});

// Product Modal Functionality
const productsGrid = document.getElementById('products-grid');
const productModal = document.getElementById('product-modal');
const closeModalBtn = document.getElementById('close-modal');
const mainProductImage = document.getElementById('modal-main-image');
const productThumbnails = document.getElementById('product-thumbnails');
const modalProductName = document.getElementById('modal-product-name');
const modalProductDescription = document.getElementById('modal-product-description');
const modalProductPrice = document.getElementById('modal-product-price');
const modalProductFeatures = document.getElementById('modal-product-features');
const modalReviewCount = document.getElementById('modal-review-count');

// WhatsApp Form Modal Elements
const orderWhatsAppBtn = document.getElementById('order-whatsapp-btn');
const whatsappFormModal = document.getElementById('whatsapp-form-modal');
const closeFormModalBtn = document.getElementById('close-form-modal');
const formProductName = document.getElementById('form-product-name');
const formProductPrice = document.getElementById('form-product-price');
const whatsappOrderForm = document.getElementById('whatsapp-order-form');

// Global variables to store current product info
let currentProductName = '';
let currentProductPrice = '';

// Open Product Modal
productsGrid.addEventListener('click', function(e) {
    const productCard = e.target.closest('.product-grid-item');
    if (productCard) {
        const images = JSON.parse(productCard.dataset.images || '[]');
        const name = productCard.dataset.name;
        const price = productCard.dataset.price;
        const description = productCard.dataset.description;
        const category = productCard.dataset.category;
        
        // Save current product info globally
        currentProductName = name;
        currentProductPrice = `Rs.${parseInt(price).toLocaleString()}`;

        // Ensure we have at least 3 images
        const displayImages = images.length >= 3 ? images : 
            [...images, ...Array(3 - images.length).fill(images[0] || '')];

        // Set main image
        mainProductImage.src = displayImages[0];
        mainProductImage.alt = name;

        // Create thumbnails with larger, more prominent view
        const thumbnailSize = window.innerWidth < 768 ? 'w-16 h-16' : 'w-24 h-24';
        productThumbnails.innerHTML = displayImages.map((img, index) => `
            <img src="${img}" alt="${name} - Image ${index + 1}" 
                 class="${thumbnailSize} object-cover rounded-lg cursor-pointer thumbnail-image 
                 ${index === 0 ? 'border-2 border-yellow-500' : 'opacity-70 hover:opacity-100'}">
        `).join('');

        // Set product details
        modalProductName.textContent = name;
        modalProductDescription.textContent = description;
        modalProductPrice.textContent = currentProductPrice;

        // Dynamic features based on category
        const featuresMap = {
            'drills': [
                'High-performance motor',
                'Dual battery system',
                'Adjustable torque settings',
                'Ergonomic design'
            ],
            'welding': [
                'Multi-phase compatibility',
                'High electrical efficiency',
                'Robust construction',
                'Precise arc control'
            ],
            'cutters': [
                'Precision cutting edge',
                'Durable material construction',
                'Comfortable grip',
                'Multi-purpose usage'
            ],
            'pliers': [
                'Professional grade quality',
                'Rust-resistant coating',
                'Ergonomic handles',
                'Versatile application'
            ],
            'wrenches': [
                'Smooth jaw adjustment',
                'High-strength alloy steel',
                'Corrosion-resistant finish',
                'Precise measurement markings'
            ]
            ,  'ac': [
                'High Quality ',
                'High-strength alloy steel',
                'Corrosion-resistant finish',
                'Smooth Working'
            ],
            'jet': [
                'High Pressure',
                'Good Quality',
                'Every thing Included in box',
                'Imported Machines'
            ]
        };

        // Set features
        modalProductFeatures.innerHTML = (featuresMap[category] || [
            'Professional Grade Quality',
            'Durable Construction',
            'Ergonomic Design'
        ]).map(feature => `<li>${feature}</li>`).join('');

        // Show modal
        productModal.classList.remove('hidden');
        productModal.classList.add('flex');
    }
});

// Close Product Modal
closeModalBtn.addEventListener('click', () => {
    productModal.classList.remove('flex');
    productModal.classList.add('hidden');
});

// Close modal when clicking outside the content
productModal.addEventListener('click', function(e) {
    if (e.target === productModal) {
        productModal.classList.remove('flex');
        productModal.classList.add('hidden');
    }
});

// Open WhatsApp Form Modal
orderWhatsAppBtn.addEventListener('click', () => {
    // Set product info in the form
    formProductName.textContent = currentProductName;
    formProductPrice.textContent = currentProductPrice;
    
    // Hide product modal and show form modal
    productModal.classList.remove('flex');
    productModal.classList.add('hidden');
    
    whatsappFormModal.classList.remove('hidden');
    whatsappFormModal.classList.add('flex');
});

// Close WhatsApp Form Modal
closeFormModalBtn.addEventListener('click', () => {
    whatsappFormModal.classList.remove('flex');
    whatsappFormModal.classList.add('hidden');
});

// Thumbnail image click handler
productThumbnails.addEventListener('click', function(e) {
    if (e.target.classList.contains('thumbnail-image')) {
        // Update main image
        mainProductImage.src = e.target.src;
        
        // Update thumbnail highlighting
        document.querySelectorAll('.thumbnail-image').forEach(img => {
            img.classList.remove('border-2', 'border-yellow-500');
            img.classList.add('opacity-70');
        });
        
        e.target.classList.add('border-2', 'border-yellow-500');
        e.target.classList.remove('opacity-70');
    }
});

// Handle WhatsApp form submission
whatsappOrderForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form values
    const customerName = document.getElementById('customer-name').value;
    const customerPhone = document.getElementById('customer-phone').value;
    const customerAddress = document.getElementById('customer-address').value.trim();
    const customerNotes = document.getElementById('customer-notes').value.trim();
    const city = document.getElementById('customer-city').value.trim();
    
    let message = `*New Order*\n\n*Product:* ${currentProductName}\n*Price:* ${currentProductPrice}\n\n*Customer Details:*\n*Name:* ${customerName}\n*Phone:* ${customerPhone}\n*Address:* ${customerAddress} \n\n*City :* ${city}`;
    
    message += `\n*Additional Notes:*\n${customerNotes || 'None'}`;
    
    // Properly encode message for WhatsApp URL - handle chunking for very long messages
    let encodedMessage = "";
    
    // Split very long messages into smaller chunks (WhatsApp has URL length limitations)
    if (message.length > 1000) {
        // Send only essential information and note that details are too long
        encodedMessage = encodeURIComponent(`*New Order*\n\n*Product:* ${currentProductName}\n*Price:* ${currentProductPrice}\n\n*Customer:* ${customerName}\n*Phone:* ${customerPhone}\n\nCustomer provided detailed address and notes that are too long for this message. Please contact them for complete details.`);
    } else {
        encodedMessage = encodeURIComponent(message);
    }
    
    // WhatsApp business number
    const whatsappNumber = '923175679385';
    
    // Create WhatsApp URL
    const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
    
    // Open WhatsApp in new tab
    window.open(whatsappURL, '_blank');
    
    // Close the form modal after a brief delay
    setTimeout(() => {
        whatsappFormModal.classList.remove('flex');
        whatsappFormModal.classList.add('hidden');
        whatsappOrderForm.reset();
    }, 500);
});
// Category filter and search functionality
const categoryFilter = document.getElementById('category-filter');
const mobileCategoryFilter = document.getElementById('mobile-category-filter');
const searchInput = document.getElementById('search-input');
const mobileSearchInput = document.getElementById('mobile-search-input');

// Combined filter function that handles both category and search
function filterProducts() {
    const selectedCategory = (categoryFilter ? categoryFilter.value : '') || 
                            (mobileCategoryFilter ? mobileCategoryFilter.value : '');
    
    const searchQuery = (searchInput ? searchInput.value : '') || 
                        (mobileSearchInput ? mobileSearchInput.value : '');

    // Filter products from allProducts array
    const filteredProducts = allProducts.filter(product => {
        const productCategory = product.category ? product.category.toLowerCase() : '';
        const productName = product.name.toLowerCase();

        const matchesCategory = !selectedCategory || productCategory === selectedCategory.toLowerCase();
        const matchesSearch = !searchQuery || productName.includes(searchQuery.toLowerCase());

        return matchesCategory && matchesSearch;
    });

    // Re-render filtered products
    renderFilteredProducts(filteredProducts);
}

// Function to render filtered products
function renderFilteredProducts(filteredProducts) {
    productsGrid.innerHTML = '';
    filteredProducts.forEach(product => {
        productsGrid.appendChild(renderProduct(product));
    });

    updatePagination(1); // Reset pagination on filter change
}

// Event listeners for filters
[categoryFilter, mobileCategoryFilter, searchInput, mobileSearchInput].forEach(input => {
    if (input) input.addEventListener('input', filterProducts);
});

// Sync desktop and mobile filters
function syncFilters(isCategory = true) {
    if (isCategory && categoryFilter && mobileCategoryFilter) {
        mobileCategoryFilter.value = categoryFilter.value;
    } else if (!isCategory && searchInput && mobileSearchInput) {
        mobileSearchInput.value = searchInput.value;
    }
    filterProducts();
}

if (categoryFilter) categoryFilter.addEventListener('change', () => syncFilters(true));
if (searchInput) searchInput.addEventListener('input', () => syncFilters(false));
if (mobileCategoryFilter) mobileCategoryFilter.addEventListener('change', () => syncFilters(true));
if (mobileSearchInput) mobileSearchInput.addEventListener('input', () => syncFilters(false));

// Ensure filters work on page load
document.addEventListener('DOMContentLoaded', function() {
    if (categoryFilter) categoryFilter.value = '';
    if (mobileCategoryFilter) mobileCategoryFilter.value = '';
    if (searchInput) searchInput.value = '';
    if (mobileSearchInput) mobileSearchInput.value = '';

    filterProducts();
});



    </script>
    






    
    </body>
    <script>
   document.addEventListener('DOMContentLoaded', async function() {
    const PRODUCTS_API_URL = 'https://msharjeelraja.github.io/products/products.json';
    const productsGrid = document.getElementById('products-grid');
    const productsPerPage = 10;
    let allProducts = [];
    let filteredProducts = [];
    let currentPage = 1;
    
    // Get filter elements
    const categoryFilter = document.getElementById('category-filter');
    const mobileCategoryFilter = document.getElementById('mobile-category-filter');
    const searchInput = document.getElementById('search-input');
    const mobileSearchInput = document.getElementById('mobile-search-input');

    async function fetchProducts() {
        try {
            const response = await fetch(PRODUCTS_API_URL);
            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
            return await response.json();
        } catch (error) {
            console.error('Error fetching products:', error);
            return [];
        }
    }

    function renderProduct(product) {
        const productElement = document.createElement('div');
        productElement.className = 'product-grid-item bg-gray-800 rounded-xl overflow-hidden cursor-pointer';
        productElement.dataset.category = product.category || '';
        productElement.dataset.name = product.name || '';
        productElement.dataset.price = product.price || '';
        productElement.dataset.description = product.description || '';
        productElement.dataset.images = JSON.stringify(product.images || []);
        
      const firstImage = product.images && product.images.length > 0 ? product.images[0] : 'https://via.placeholder.com/300x200';


        productElement.innerHTML = `
            <img src="${firstImage}" alt="${product.name}" class="w-full h-36 md:h-48 object-cover">
            <div class="p-2 md:p-4">
                <h3 class="text-base font-semibold mb-1">${product.name}</h3>
                <span class="text-yellow-500 font-bold">Rs.${Number(product.price).toLocaleString()}</span>
            </div>
        `;
        return productElement;
    }

    // Combined filter function that handles both category and search
    function filterProducts() {
        const selectedCategory = (categoryFilter ? categoryFilter.value : '') || 
                                (mobileCategoryFilter ? mobileCategoryFilter.value : '');
        
        const searchQuery = (searchInput ? searchInput.value.toLowerCase() : '') || 
                            (mobileSearchInput ? mobileSearchInput.value.toLowerCase() : '');

        // Filter products from allProducts array
        filteredProducts = allProducts.filter(product => {
            const productCategory = (product.category || '').toLowerCase();
            const productName = (product.name || '').toLowerCase();

            const matchesCategory = !selectedCategory || selectedCategory === 'all' || productCategory === selectedCategory.toLowerCase();
            const matchesSearch = !searchQuery || productName.includes(searchQuery);

            return matchesCategory && matchesSearch;
        });

        // Reset pagination and render first page of filtered results
        currentPage = 1;
        renderPage(currentPage);
        
        // Update pagination based on filtered results
        const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
        createPagination(totalPages);
    }

    function renderPage(page) {
        currentPage = page;
        productsGrid.innerHTML = '';
        const start = (page - 1) * productsPerPage;
        const end = start + productsPerPage;
        const productsToRender = filteredProducts.slice(start, end);
        
        if (productsToRender.length === 0) {
            productsGrid.innerHTML = `
                <div class="col-span-full py-8 text-center">
                    <p class="text-xl text-gray-400">No products match your search criteria.</p>
                    <button id="reset-filters" class="mt-4 px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-400">
                        Reset Filters
                    </button>
                </div>
            `;
            
            document.getElementById('reset-filters')?.addEventListener('click', resetFilters);
        } else {
            productsToRender.forEach(product => {
                productsGrid.appendChild(renderProduct(product));
            });
        }
        
        updatePagination(page);
    }

    function resetFilters() {
        if (categoryFilter) categoryFilter.value = 'all';
        if (mobileCategoryFilter) mobileCategoryFilter.value = 'all';
        if (searchInput) searchInput.value = '';
        if (mobileSearchInput) mobileSearchInput.value = '';
        
        filterProducts();
    }

    function createPagination(totalPages) {
        const paginationContainer = document.getElementById('pagination-controls');
        if (!paginationContainer) return;
        
        paginationContainer.innerHTML = '';
        
        if (totalPages <= 1) return;

        // Previous page button
        const prevBtn = document.createElement('button');
        prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
        prevBtn.className = 'mx-1 px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition';
        prevBtn.addEventListener('click', () => {
            if (currentPage > 1) renderPage(currentPage - 1);
        });
        paginationContainer.appendChild(prevBtn);

        // Page buttons
        let startPage = Math.max(1, currentPage - 2);
        let endPage = Math.min(totalPages, startPage + 4);
        
        if (endPage - startPage < 4) {
            startPage = Math.max(1, endPage - 4);
        }

        for (let i = startPage; i <= endPage; i++) {
            const pageBtn = document.createElement('button');
            pageBtn.innerText = i;
            pageBtn.className = `mx-1 px-3 py-2 ${currentPage === i ? 'bg-yellow-500 text-black' : 'bg-gray-800 text-white'} rounded-lg hover:bg-yellow-500 hover:text-black transition page-button`;
            pageBtn.dataset.page = i;
            pageBtn.addEventListener('click', () => renderPage(i));
            paginationContainer.appendChild(pageBtn);
        }

        // Next page button
        const nextBtn = document.createElement('button');
        nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
        nextBtn.className = 'mx-1 px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition';
        nextBtn.addEventListener('click', () => {
            if (currentPage < totalPages) renderPage(currentPage + 1);
        });
        paginationContainer.appendChild(nextBtn);
    }

    function updatePagination(activePage) {
        document.querySelectorAll('.page-button').forEach(btn => {
            const isActive = parseInt(btn.dataset.page) === activePage;
            btn.classList.toggle('bg-yellow-500', isActive);
            btn.classList.toggle('text-black', isActive);
            btn.classList.toggle('bg-gray-800', !isActive);
            btn.classList.toggle('text-white', !isActive);
        });
    }

    // Sync desktop and mobile filters
    function syncFilters(isCategory = true) {
        if (isCategory && categoryFilter && mobileCategoryFilter) {
            mobileCategoryFilter.value = categoryFilter.value;
        } else if (!isCategory && searchInput && mobileSearchInput) {
            mobileSearchInput.value = searchInput.value;
        }
        filterProducts();
    }

    // Add event listeners for filters
    function setupFilterListeners() {
        if (categoryFilter) categoryFilter.addEventListener('change', () => syncFilters(true));
        if (mobileCategoryFilter) mobileCategoryFilter.addEventListener('change', () => {
            if (categoryFilter) categoryFilter.value = mobileCategoryFilter.value;
            filterProducts();
        });
        
        if (searchInput) searchInput.addEventListener('input', debounce(() => syncFilters(false), 300));
        if (mobileSearchInput) mobileSearchInput.addEventListener('input', debounce(() => {
            if (searchInput) searchInput.value = mobileSearchInput.value;
            filterProducts();
        }, 300));
    }

    // Debounce function to prevent excessive filtering during typing
    function debounce(func, delay) {
        let timeout;
        return function() {
            const context = this;
            const args = arguments;
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(context, args), delay);
        };
    }

    async function initialize() {
        allProducts = await fetchProducts();
        if (allProducts.length === 0) return;

        filteredProducts = [...allProducts]; // Start with all products
        
        const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
        renderPage(1);
        createPagination(totalPages);
        
        setupFilterListeners();
    }

    initialize();
});
        </script>
</html>